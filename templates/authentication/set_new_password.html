{% extends 'base_auth.html' %}
{% load static %}

{% block content %}

<style>
    body {
    background-image: url('{% static "img/back.png" %}');
    background-size: cover; /* Adjust as needed */
    background-repeat: no-repeat; /* Adjust as needed */
    /* Additional background styling if necessary */
  }
</style>

<div class="row">
  <div class="col-md-4"></div>
  <div class="col-md-4">
    <h3><b>TestBox</b></h3>
    <div class="card mt-5">


      <div class="card-body">
        <div class="card-title py-3">
          <h4>Set your new password</h4>
        </div>
        <form action="{% url 'reset-user-password' uidb64 token%}" method="post">
          {% csrf_token %}

          {% include 'partials/_messages.html' %}
          <div class="form-group">
            <input
              type="password"
              name="password"
              placeholder="Password"
              class="form-control form-control-sm"
              id="passwordField"
            />
            <small class="float-right py-3 showPasswordToggle">SHOW</small>
          </div>
          <div class="form-group">
            <input
              type="password"
              name="password2"
              placeholder="Configrm Password"
              class="form-control form-control-sm"
              id="passwordField2"
            />
            <small class="float-right py-3 showPasswordToggle2">SHOW</small>
          </div>


          <input type="submit" value="Submit" class="btn btn-block btn-primary submit-btn" />
        </form>

        <div class="container">
          <span>Have an account? </span><a href="{% url 'login' %}">Log In</a><br>
          <span>No account? </span><a href="{% url 'request-password' %}">Register Here</a><br>
        </div>

      </div>

      </div>
    </div>
  </div>
  <div class="col-md-4"></div>
</div>

<script>
  const passwordField = document.querySelector("#passwordField");
const passwordField2 = document.querySelector("#passwordField2");
const showPasswordToggle = document.querySelector(".showPasswordToggle");
const showPasswordToggle2 = document.querySelector(".showPasswordToggle2");


const handleToggleInput = (e) => {
  if (showPasswordToggle.textContent === "SHOW") {
    showPasswordToggle.textContent = "HIDE";
    passwordField.setAttribute("type", "text");
  } else {
    showPasswordToggle.textContent = "SHOW";
    passwordField.setAttribute("type", "password");
  }
};

const handleToggleInput2 = (e) => {
  if (showPasswordToggle2.textContent === "SHOW") {
    showPasswordToggle2.textContent = "HIDE";
    passwordField2.setAttribute("type", "text");
  } else {
    showPasswordToggle2.textContent = "SHOW";
    passwordField2.setAttribute("type", "password");
  }
};

showPasswordToggle.addEventListener("click", handleToggleInput);
showPasswordToggle2.addEventListener("click", handleToggleInput2);


</script>
{% endblock content %}